<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a Did√°ctica: La C√©lula - Ciencias Naturales 5¬∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* IDENTIDAD VISUAL ESCOLARIS */
        :root {
            --naranja-quemado: #db6015;
            --amarillo-dorado: #f7be00;
            --azul-oscuro: #244b5a;
            --rojo-ladrillo: #993921;
            --azul-claro: #f0f8ff;
            --blanco: #ffffff;
            --verde-bio: #27ae60;
            --morado-celula: #8e44ad;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--azul-claro);
            overflow: hidden;
        }

        .contenedor-principal {
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--azul-claro) 0%, var(--blanco) 100%);
        }

        .slide {
            width: 95%;
            max-width: 900px;
            height: 95vh;
            background: var(--blanco);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(36, 75, 90, 0.2);
            padding: 40px;
            display: none;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow-y: auto;
            animation: fadeIn 0.5s ease-in;
        }

        .slide.activo {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* NAVEGACI√ìN CON FLECHAS */
        .navegacion {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            pointer-events: none;
            left: 0;
            top: 0;
        }

        .flecha {
            width: 60px;
            height: 60px;
            background: var(--naranja-quemado);
            color: var(--blanco);
            border: none;
            border-radius: 50%;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: all;
            transition: all 0.3s ease;
            margin: 0 15px;
            box-shadow: 0 4px 15px rgba(219, 96, 21, 0.3);
        }

        .flecha:hover {
            background: var(--rojo-ladrillo);
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(219, 96, 21, 0.5);
        }

        .flecha:active {
            transform: scale(0.95);
        }

        /* CONTADOR DE DIAPOSITIVAS */
        .contador {
            position: absolute;
            bottom: 20px;
            right: 30px;
            font-size: 14px;
            color: var(--azul-oscuro);
            font-weight: bold;
            background: var(--amarillo-dorado);
            padding: 8px 15px;
            border-radius: 20px;
        }

        /* ESTILOS DE TEXTO */
        h1 {
            color: var(--azul-oscuro);
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        h2 {
            color: var(--naranja-quemado);
            font-size: 2em;
            margin-bottom: 25px;
            font-weight: bold;
            border-bottom: 3px solid var(--amarillo-dorado);
            padding-bottom: 15px;
        }

        h3 {
            color: var(--azul-oscuro);
            font-size: 1.4em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        p {
            color: #333;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: left;
        }

        /* PORTADA */
        .portada {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 25px;
        }

        .portada h1 {
            font-size: 3.5em;
            background: linear-gradient(135deg, var(--morado-celula), var(--naranja-quemado));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metadata {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .badge {
            background: var(--amarillo-dorado);
            color: var(--azul-oscuro);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 0.95em;
        }

        .ilustracion {
            font-size: 120px;
            margin: 15px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .mensaje {
            background: linear-gradient(135deg, var(--azul-claro), #e6f3ff);
            padding: 20px;
            border-left: 5px solid var(--morado-celula);
            border-radius: 8px;
            font-size: 1.2em;
            color: var(--azul-oscuro);
            font-weight: 500;
        }

        /* TARJETAS GENERALES */
        .tarjeta {
            background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
            border: 2px solid var(--naranja-quemado);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
            position: relative;
        }

        .tarjeta:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(219, 96, 21, 0.2);
            border-color: var(--morado-celula);
        }

        .tarjeta-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .tarjeta-titulo {
            color: var(--azul-oscuro);
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .tarjeta-desc {
            color: #666;
            font-size: 0.95em;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .tarjeta::after {
            content: 'üëÜ Haz clic para descubrir';
            display: block;
            font-size: 0.8em;
            color: var(--naranja-quemado);
            font-style: italic;
            margin-top: 8px;
            opacity: 0.8;
        }

        /* GRID DE TARJETAS */
        .grid-tarjetas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        /* PREGUNTAS INTERACTIVAS */
        .pregunta-card {
            background: linear-gradient(135deg, #fff9e6 0%, #fffdf5 100%);
            border-left: 5px solid var(--amarillo-dorado);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 12px;
            position: relative;
        }

        .pregunta-card:hover {
            background: linear-gradient(135deg, #fff5cc 0%, #fffef0 100%);
            transform: translateX(5px);
        }

        .pregunta-texto {
            font-weight: bold;
            color: var(--azul-oscuro);
            margin-bottom: 8px;
            font-size: 1em;
        }

        .pista {
            color: var(--naranja-quemado);
            font-size: 0.9em;
            display: none;
            margin-top: 8px;
            font-style: italic;
        }

        .pista.mostrada {
            display: block;
        }

        .pregunta-card::after {
            content: 'üëÜ Haz clic para ver la pista';
            display: block;
            font-size: 0.8em;
            color: var(--naranja-quemado);
            font-style: italic;
            margin-top: 8px;
            opacity: 0.8;
        }

        /* CONCEPTOS CLAVE */
        .concepto-card {
            background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f6 100%);
            border: 2px solid var(--verde-bio);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            margin-bottom: 12px;
            position: relative;
        }

        .concepto-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(39, 174, 96, 0.2);
        }

        .concepto-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .concepto-nombre {
            color: var(--azul-oscuro);
            font-weight: bold;
            font-size: 1.2em;
        }

        .concepto-card::after {
            content: 'üëÜ Haz clic para saber m√°s';
            display: block;
            font-size: 0.8em;
            color: var(--verde-bio);
            font-style: italic;
            margin-top: 8px;
            opacity: 0.8;
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(36, 75, 90, 0.7);
            animation: fadeIn 0.3s ease;
        }

        .modal-contenido {
            background-color: var(--blanco);
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .cerrar-modal {
            color: var(--naranja-quemado);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .cerrar-modal:hover {
            color: var(--rojo-ladrillo);
        }

        /* BOTONES */
        .boton {
            background: var(--naranja-quemado);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .boton:hover {
            background: var(--rojo-ladrillo);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(219, 96, 21, 0.3);
        }

        .boton.correcto {
            background: var(--verde-bio);
        }

        .boton.correcto:hover {
            background: #229954;
        }

        .boton-secundario {
            background: var(--azul-oscuro);
            color: white;
        }

        .boton-secundario:hover {
            background: #1a364a;
        }

        /* RETROALIMENTACI√ìN */
        .retroalimentacion {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            font-weight: bold;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .retroalimentacion.activa {
            display: block;
        }

        .retroalimentacion.correcta {
            background: #d4edda;
            color: #155724;
            border-left: 5px solid var(--verde-bio);
        }

        .retroalimentacion.incorrecta {
            background: #f8d7da;
            color: #721c24;
            border-left: 5px solid var(--rojo-ladrillo);
        }

        /* OPCIONES M√öLTIPLE */
        .opcion {
            background: linear-gradient(135deg, #f5f5f5 0%, #fafafa 100%);
            border: 2px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .opcion:hover {
            border-color: var(--naranja-quemado);
            background: #fff9e6;
            transform: translateX(5px);
        }

        .opcion.respondido {
            cursor: default;
        }

        .opcion.correcta {
            background: #d4edda;
            border-color: var(--verde-bio);
            color: #155724;
            font-weight: bold;
        }

        .opcion.incorrecta {
            background: #f8d7da;
            border-color: var(--rojo-ladrillo);
            color: #721c24;
        }

        /* JUEGO */
        .juego-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .juego-item {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border: 2px solid var(--morado-celula);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .juego-item:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(142, 68, 173, 0.2);
        }

        .juego-item.correcto {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border-color: var(--verde-bio);
        }

        .juego-icon {
            font-size: 3em;
            margin-bottom: 8px;
        }

        .juego-nombre {
            color: var(--azul-oscuro);
            font-weight: bold;
            font-size: 1.1em;
        }

        /* PROGRESO */
        .progreso-barra {
            background: #e0e0e0;
            border-radius: 10px;
            height: 25px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progreso-relleno {
            background: linear-gradient(90deg, var(--verde-bio), var(--amarillo-dorado));
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            transition: width 0.5s ease;
        }

        /* APLICACI√ìN PR√ÅCTICA */
        .escenario {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border: 2px solid var(--naranja-quemado);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .escenario-icono {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .escenario-titulo {
            color: var(--azul-oscuro);
            font-weight: bold;
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .escenario-descripcion {
            color: #555;
            font-size: 1em;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        /* REFLEXI√ìN */
        .grupo-reflexion {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border: 2px solid var(--morado-celula);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .opcion-reflexion {
            background: var(--blanco);
            border: 2px solid var(--morado-celula);
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            margin: 8px 0;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        .opcion-reflexion:hover {
            background: #f3e5f5;
            transform: translateX(8px);
        }

        .opcion-reflexion.seleccionada {
            background: var(--morado-celula);
            color: white;
            border-color: var(--morado-celula);
        }

        /* SELLO DE LOGRO */
        .sello-logro {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .icono-sello {
            font-size: 150px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .texto-sello {
            font-size: 2em;
            color: var(--morado-celula);
            font-weight: bold;
        }

        .subtexto-sello {
            font-size: 1.2em;
            color: var(--naranja-quemado);
        }

        /* CONTENIDO DENSO */
        .contenido-denso {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .bloque-info {
            background: linear-gradient(135deg, #f5f5f5 0%, #fafafa 100%);
            border-left: 5px solid var(--naranja-quemado);
            padding: 15px;
            border-radius: 8px;
        }

        .bloque-info h3 {
            color: var(--morado-celula);
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .bloque-info p {
            font-size: 0.95em;
            line-height: 1.5;
            margin-bottom: 0;
        }

        /* ELEMENTO INTERACTIVO ESPECIAL */
        .elemento-interactivo {
            background: linear-gradient(135deg, var(--amarillo-dorado), #ffd966);
            border: 2px solid var(--naranja-quemado);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            margin: 10px 0;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .elemento-interactivo:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 20px rgba(219, 96, 21, 0.3);
        }

        .elemento-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .elemento-texto {
            font-weight: bold;
            color: var(--azul-oscuro);
            font-size: 1em;
        }

        .elemento-interactivo::after {
            content: 'üëÜ Haz clic aqu√≠';
            display: block;
            font-size: 0.8em;
            color: var(--azul-oscuro);
            font-style: italic;
            margin-top: 8px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="contenedor-principal">
        <div class="navegacion">
            <button class="flecha" onclick="cambiarSlide(-1)">‚¨ÖÔ∏è</button>
            <button class="flecha" onclick="cambiarSlide(1)">‚û°Ô∏è</button>
        </div>

        <!-- SLIDE 1: PORTADA -->
        <div class="slide activo">
            <div class="portada">
                <h1>üß¨ LA C√âLULA</h1>
                <div class="ilustracion">üî¨</div>
                <div class="metadata">
                    <div class="badge">Ciencias Naturales</div>
                    <div class="badge">5¬∞ Primaria</div>
                    <div class="badge">Lecci√≥n 2</div>
                </div>
                <div class="mensaje">
                    ¬°Prep√°rate para descubrir el mundo microsc√≥pico! Aprender√°s qu√© son las c√©lulas, sus partes y funciones. ¬°Eres un cient√≠fico!
                </div>
            </div>
            <div class="contador">1 / 13</div>
        </div>

        <!-- SLIDE 2: OBJETIVOS -->
        <div class="slide">
            <h2>üéØ Objetivos de Aprendizaje</h2>
            <div class="grid-tarjetas">
                <div class="tarjeta" onclick="mostrarDetalle(this, 'üìå Entender√°s qu√© es una c√©lula: la unidad m√°s peque√±a de vida de los seres vivos.')">
                    <div class="tarjeta-icon">üìå</div>
                    <div class="tarjeta-titulo">Definici√≥n de c√©lula</div>
                    <div class="tarjeta-desc">¬øQu√© es la unidad de vida?</div>
                </div>
                <div class="tarjeta" onclick="mostrarDetalle(this, 'üîë Identificar√°s las partes principales de la c√©lula: membrana, citoplasma y n√∫cleo.')">
                    <div class="tarjeta-icon">üîë</div>
                    <div class="tarjeta-titulo">Partes de la c√©lula</div>
                    <div class="tarjeta-desc">Conocer√°s sus componentes</div>
                </div>
                <div class="tarjeta" onclick="mostrarDetalle(this, 'üî¨ Distinguir√°s entre c√©lulas animales y vegetales y sus diferencias.')">
                    <div class="tarjeta-icon">üî¨</div>
                    <div class="tarjeta-titulo">Tipos de c√©lulas</div>
                    <div class="tarjeta-desc">Animal vs Vegetal</div>
                </div>
                <div class="tarjeta" onclick="mostrarDetalle(this, '‚öôÔ∏è Comprender√°s las funciones vitales de la c√©lula: nutrici√≥n, crecimiento y reproducci√≥n.')">
                    <div class="tarjeta-icon">‚öôÔ∏è</div>
                    <div class="tarjeta-titulo">Funciones de la c√©lula</div>
                    <div class="tarjeta-desc">¬øQu√© hace vivir a la c√©lula?</div>
                </div>
            </div>
            <div id="detalle-objetivo" class="retroalimentacion"></div>
            <div class="contador">2 / 13</div>
        </div>

        <!-- SLIDE 3: ACTIVACI√ìN DE CONOCIMIENTOS -->
        <div class="slide">
            <h2>üß† ¬øQu√© ya sabes?</h2>
            <p style="text-align: center; margin-bottom: 20px;">Haz clic en cada pregunta para ver una pista:</p>
            
            <div class="pregunta-card" onclick="mostrarPista(this)">
                <div class="pregunta-texto">‚ùì ¬øTodos los seres vivos tienen c√©lulas?</div>
                <div class="pista">¬°S√≠! Desde las bacterias hasta los elefantes... todos est√°n hechos de c√©lulas. Incluso t√∫.</div>
            </div>

            <div class="pregunta-card" onclick="mostrarPista(this)">
                <div class="pregunta-texto">‚ùì ¬øQu√© se encuentra dentro de la c√©lula?</div>
                <div class="pista">Dentro hay un centro especial llamado n√∫cleo, l√≠quido con sustancias (citoplasma) y una membrana que la rodea.</div>
            </div>

            <div class="pregunta-card" onclick="mostrarPista(this)">
                <div class="pregunta-texto">‚ùì ¬øSon iguales todas las c√©lulas?</div>
                <div class="pista">¬°No! Las c√©lulas de plantas son distintas a las de animales. Las c√©lulas pueden ser muy diferentes seg√∫n su funci√≥n.</div>
            </div>

            <div class="pregunta-card" onclick="mostrarPista(this)">
                <div class="pregunta-texto">‚ùì ¬øPodemos ver las c√©lulas sin microscopio?</div>
                <div class="pista">¬°No! Las c√©lulas son tan peque√±as que necesitamos un microscopio para verlas. Son microsc√≥picas.</div>
            </div>

            <div class="contador">3 / 13</div>
        </div>

        <!-- SLIDE 4: CONCEPTO CLAVE - ¬øQU√â ES LA C√âLULA? -->
        <div class="slide">
            <h2>üí° ¬øQu√© es la C√©lula?</h2>
            
            <div class="bloque-info">
                <h3>üìñ Definici√≥n Cient√≠fica</h3>
                <p>La c√©lula es la unidad m√°s peque√±a de vida. Es como el LEGO de la vida: todos los seres vivos est√°n hechos de c√©lulas.</p>
            </div>

            <div class="bloque-info">
                <h3>üåç Datos Interesantes</h3>
                <p>Tu cuerpo tiene m√°s de 37 BILLONES de c√©lulas. ¬°La mayor√≠a tan peque√±a que necesitas un microscopio para verla!</p>
            </div>

            <div class="bloque-info">
                <h3>üî≠ Ejemplos de Seres Vivos</h3>
                <p><strong>Unicelulares:</strong> Bacterias (1 c√©lula) | <strong>Pluricelulares:</strong> Plantas, Animales, Humanos (millones de c√©lulas)</p>
            </div>

            <div class="bloque-info">
                <h3>‚ú® Caracter√≠sticas Clave</h3>
                <p>Todas las c√©lulas: nacen, crecen, se reproducen y mueren. ¬°Son vivas!</p>
            </div>

            <div class="contador">4 / 13</div>
        </div>

        <!-- SLIDE 5: PARTES DE LA C√âLULA - ANIMALES -->
        <div class="slide">
            <h2>üî¨ Partes de una C√©lula Animal</h2>
            
            <div class="concepto-card" onclick="abrirModal('modal-membrana')">
                <div class="concepto-icon">üö™</div>
                <div class="concepto-nombre">MEMBRANA CELULAR</div>
                <p style="font-size: 0.85em; color: #666; margin-top: 8px;">La puerta que controla la entrada y salida</p>
            </div>

            <div class="concepto-card" onclick="abrirModal('modal-citoplasma')">
                <div class="concepto-icon">üíß</div>
                <div class="concepto-nombre">CITOPLASMA</div>
                <p style="font-size: 0.85em; color: #666; margin-top: 8px;">L√≠quido gelatinoso donde ocurren funciones vitales</p>
            </div>

            <div class="concepto-card" onclick="abrirModal('modal-nucleo')">
                <div class="concepto-icon">üéØ</div>
                <div class="concepto-nombre">N√öCLEO</div>
                <p style="font-size: 0.85em; color: #666; margin-top: 8px;">Centro de control con la informaci√≥n gen√©tica</p>
            </div>

            <div id="modal-membrana" class="modal">
                <div class="modal-contenido">
                    <span class="cerrar-modal" onclick="cerrarModal('modal-membrana')">&times;</span>
                    <h3>üö™ MEMBRANA CELULAR</h3>
                    <p><strong>¬øQu√© es?</strong> Es una "piel" muy delgada que rodea toda la c√©lula.</p>
                    <p><strong>Funci√≥n:</strong> Controla qu√© entra y qu√© sale de la c√©lula. Es como una puerta selectiva.</p>
                    <p><strong>Caracter√≠stica:</strong> Es tan fina que es invisible sin microscopio.</p>
                </div>
            </div>

            <div id="modal-citoplasma" class="modal">
                <div class="modal-contenido">
                    <span class="cerrar-modal" onclick="cerrarModal('modal-citoplasma')">&times;</span>
                    <h3>üíß CITOPLASMA</h3>
                    <p><strong>¬øQu√© es?</strong> Un l√≠quido gelatinoso y transparente que llena toda la c√©lula.</p>
                    <p><strong>Funci√≥n:</strong> Contiene nutrientes y estructuras especiales que realizan tareas vitales. Es donde ocurre la "acci√≥n".</p>
                    <p><strong>Composici√≥n:</strong> Agua, prote√≠nas, grasas y otras mol√©culas necesarias para la vida.</p>
                </div>
            </div>

            <div id="modal-nucleo" class="modal">
                <div class="modal-contenido">
                    <span class="cerrar-modal" onclick="cerrarModal('modal-nucleo')">&times;</span>
                    <h3>üéØ N√öCLEO</h3>
                    <p><strong>¬øQu√© es?</strong> Una estructura esf√©rica dentro de la c√©lula, como un "cerebro".</p>
                    <p><strong>Funci√≥n:</strong> Controla todas las actividades de la c√©lula y contiene el ADN (informaci√≥n gen√©tica).</p>
                    <p><strong>Dato importante:</strong> No todas las c√©lulas tienen n√∫cleo (las bacterias no).</p>
                </div>
            </div>

            <div class="contador">5 / 13</div>
        </div>

        <!-- SLIDE 6: C√âLULA ANIMAL VS VEGETAL -->
        <div class="slide">
            <h2>üå± C√©lula Animal vs C√©lula Vegetal</h2>
            
            <div class="contenido-denso">
                <div class="bloque-info">
                    <h3>üêï C√âLULA ANIMAL</h3>
                    <p><strong>Partes:</strong> Membrana, Citoplasma, N√∫cleo</p>
                    <p><strong>Forma:</strong> Redonda o irregular</p>
                    <p><strong>Ejemplos:</strong> C√©lulas de tu piel, sangre, m√∫sculos</p>
                </div>

                <div class="bloque-info">
                    <h3>üåø C√âLULA VEGETAL</h3>
                    <p><strong>Partes:</strong> Membrana, Citoplasma, N√∫cleo + PARED CELULAR + CLOROPLASTOS</p>
                    <p><strong>Forma:</strong> Rect√°ngulo o cuadrado</p>
                    <p><strong>Ejemplos:</strong> C√©lulas de hojas, tallos, ra√≠ces</p>
                </div>
            </div>

            <div class="elemento-interactivo" onclick="mostrarDiferencia(this)">
                <div class="elemento-icon">üìç</div>
                <div class="elemento-texto">¬øQu√© hace √öNICA a la c√©lula vegetal?</div>
            </div>

            <div id="diferencia-vegetal" class="retroalimentacion"></div>

            <div class="contador">6 / 13</div>
        </div>

        <!-- SLIDE 7: CARACTER√çSTICAS ESPECIALES VEGETALES -->
        <div class="slide">
            <h2>‚ú® Estructuras Especiales Vegetales</h2>
            
            <div class="elemento-interactivo" onclick="abrirModalEspecial('pared-celular')">
                <div class="elemento-icon">üß±</div>
                <div class="elemento-texto">PARED CELULAR</div>
            </div>

            <div class="elemento-interactivo" onclick="abrirModalEspecial('cloroplasto')">
                <div class="elemento-icon">üü¢</div>
                <div class="elemento-texto">CLOROPLASTOS</div>
            </div>

            <div class="elemento-interactivo" onclick="abrirModalEspecial('vacuola')">
                <div class="elemento-icon">üíæ</div>
                <div class="elemento-texto">VACUOLA GRANDE</div>
            </div>

            <div id="pared-celular" class="modal">
                <div class="modal-contenido">
                    <span class="cerrar-modal" onclick="cerrarModal('pared-celular')">&times;</span>
                    <h3>üß± PARED CELULAR</h3>
                    <p><strong>¬øQu√© es?</strong> Una cubierta r√≠gida fuera de la membrana celular, como un "esqueleto".</p>
                    <p><strong>Funci√≥n:</strong> Da rigidez y forma a la planta, la protege y la sostiene.</p>
                    <p><strong>Material:</strong> Celulosa, una sustancia muy resistente.</p>
                </div>
            </div>

            <div id="cloroplasto" class="modal">
                <div class="modal-contenido">
                    <span class="cerrar-modal" onclick="cerrarModal('cloroplasto')">&times;</span>
                    <h3>üü¢ CLOROPLASTOS</h3>
                    <p><strong>¬øQu√© es?</strong> Estructuras verdes dentro de la c√©lula vegetal.</p>
                    <p><strong>Funci√≥n:</strong> Realizan la fotos√≠ntesis (convierten luz solar en alimento).</p>
                    <p><strong>Dato:</strong> ¬°Por eso las plantas son verdes! Contienen clorofila.</p>
                </div>
            </div>

            <div id="vacuola" class="modal">
                <div class="modal-contenido">
                    <span class="cerrar-modal" onclick="cerrarModal('vacuola')">&times;</span>
                    <h3>üíæ VACUOLA GRANDE</h3>
                    <p><strong>¬øQu√© es?</strong> Un saco grande que ocupa casi toda la c√©lula vegetal.</p>
                    <p><strong>Funci√≥n:</strong> Almacena agua, nutrientes y desechos. Mantiene la turgencia (rigidez).</p>
                    <p><strong>Tama√±o:</strong> En plantas adultas puede ocupar el 90% de la c√©lula.</p>
                </div>
            </div>

            <div class="contador">7 / 13</div>
        </div>

        <!-- SLIDE 8: FUNCIONES VITALES DE LA C√âLULA -->
        <div class="slide">
            <h2>‚öôÔ∏è Funciones Vitales de la C√©lula</h2>
            
            <div class="grid-tarjetas">
                <div class="tarjeta" onclick="mostrarFuncion(0)">
                    <div class="tarjeta-icon">üçΩÔ∏è</div>
                    <div class="tarjeta-titulo">NUTRICI√ìN</div>
                    <div class="tarjeta-desc">Obtiene energ√≠a</div>
                </div>
                <div class="tarjeta" onclick="mostrarFuncion(1)">
                    <div class="tarjeta-icon">üìà</div>
                    <div class="tarjeta-titulo">CRECIMIENTO</div>
                    <div class="tarjeta-desc">Aumenta de tama√±o</div>
                </div>
                <div class="tarjeta" onclick="mostrarFuncion(2)">
                    <div class="tarjeta-icon">üë∂</div>
                    <div class="tarjeta-titulo">REPRODUCCI√ìN</div>
                    <div class="tarjeta-desc">Genera nuevas c√©lulas</div>
                </div>
                <div class="tarjeta" onclick="mostrarFuncion(3)">
                    <div class="tarjeta-icon">üß¨</div>
                    <div class="tarjeta-titulo">HERENCIA</div>
                    <div class="tarjeta-desc">Transmite informaci√≥n</div>
                </div>
            </div>

            <div id="detalle-funcion" class="retroalimentacion"></div>

            <div class="contador">8 / 13</div>
        </div>

        <!-- SLIDE 9: ACTIVIDAD - SELECCI√ìN M√öLTIPLE -->
        <div class="slide">
            <h2>üéØ Actividad de Comprensi√≥n</h2>
            
            <div style="margin-bottom: 15px;">
                <p style="font-weight: bold; margin-bottom: 12px;">‚ùì Pregunta 1: ¬øCu√°l es la unidad m√°s peque√±a de vida?</p>
                <div class="opcion" onclick="verificarRespuesta(this, true, '¬°Exacto! La c√©lula es la unidad b√°sica de vida.')">La c√©lula</div>
                <div class="opcion" onclick="verificarRespuesta(this, false, 'No exactamente. La c√©lula es mucho m√°s peque√±a que un √°tomo visible.')">Un √°tomo</div>
                <div class="opcion" onclick="verificarRespuesta(this, false, 'No. El tejido est√° formado por muchas c√©lulas juntas.')">Un tejido</div>
                <div id="retroalimentacion-p1" class="retroalimentacion"></div>
            </div>

            <div style="margin-bottom: 15px;">
                <p style="font-weight: bold; margin-bottom: 12px;">‚ùì Pregunta 2: ¬øCu√°l de estas es una caracter√≠stica SOLO de c√©lulas vegetales?</p>
                <div class="opcion" onclick="verificarRespuesta(this, false, 'Las dos tienen membrana celular.')">Membrana celular</div>
                <div class="opcion" onclick="verificarRespuesta(this, true, '¬°Correcto! Las plantas tienen pared celular para sostenerse.')">Pared celular</div>
                <div class="opcion" onclick="verificarRespuesta(this, false, 'No. Ambas tienen n√∫cleo.')">N√∫cleo</div>
                <div id="retroalimentacion-p2" class="retroalimentacion"></div>
            </div>

            <div class="contador">9 / 13</div>
        </div>

        <!-- SLIDE 10: JUEGO - CLASIFICACI√ìN -->
        <div class="slide">
            <h2>üéÆ Juego: ¬øAnimal o Vegetal?</h2>
            <p style="text-align: center; margin-bottom: 15px; font-weight: bold;">Haz clic en cada c√©lula y elige a qu√© tipo pertenece:</p>
            
            <div class="juego-grid">
                <div class="juego-item" onclick="mostrarOpcionesJuego(this, 'C√©lula con pared', 'üß±')">
                    <div class="juego-icon">üß±</div>
                    <div class="juego-nombre">C√©lula rigida</div>
                </div>
                <div class="juego-item" onclick="mostrarOpcionesJuego(this, 'C√©lula verde', 'üü¢')">
                    <div class="juego-icon">üü¢</div>
                    <div class="juego-nombre">Color verde</div>
                </div>
                <div class="juego-item" onclick="mostrarOpcionesJuego(this, 'C√©lula sin pared', 'üîµ')">
                    <div class="juego-icon">üîµ</div>
                    <div class="juego-nombre">Forma redonda</div>
                </div>
                <div class="juego-item" onclick="mostrarOpcionesJuego(this, 'C√©lula rectangular', '‚¨ú')">
                    <div class="juego-icon">‚¨ú</div>
                    <div class="juego-nombre">Forma cuadrada</div>
                </div>
                <div class="juego-item" onclick="mostrarOpcionesJuego(this, 'C√©lula muscular', 'üí™')">
                    <div class="juego-icon">üí™</div>
                    <div class="juego-nombre">Tu m√∫sculo</div>
                </div>
                <div class="juego-item" onclick="mostrarOpcionesJuego(this, 'C√©lula de hoja', 'üçÉ')">
                    <div class="juego-icon">üçÉ</div>
                    <div class="juego-nombre">De una hoja</div>
                </div>
            </div>

            <div id="modal-juego" class="modal">
                <div class="modal-contenido">
                    <h3 id="pregunta-juego"></h3>
                    <div style="margin: 20px 0;">
                        <button class="boton" onclick="responderJuego(this, 'animal')">üêï ANIMAL</button>
                        <button class="boton correcto" onclick="responderJuego(this, 'vegetal')">üåø VEGETAL</button>
                    </div>
                    <div id="retro-juego" class="retroalimentacion"></div>
                </div>
            </div>

            <div id="retroalimentacion-juego" class="retroalimentacion" style="margin-top: 15px;"></div>
            <div id="progreso-juego" style="display: none; text-align: center; font-weight: bold; color: var(--verde-bio); margin-top: 15px;">
                <span id="texto-progreso"></span>
                <button class="boton-secundario" onclick="reiniciarJuego()" style="margin-top: 10px;">üîÑ Reintentar</button>
            </div>

            <div class="contador">10 / 13</div>
        </div>

        <!-- SLIDE 11: APLICACI√ìN PR√ÅCTICA -->
        <div class="slide">
            <h2>üåç Aplicaci√≥n Pr√°ctica</h2>
            
            <div class="escenario">
                <div class="escenario-icono">üî¨</div>
                <div class="escenario-titulo">Situaci√≥n: Observas una c√©lula con microscopio</div>
                <div class="escenario-descripcion">Ves una c√©lula con forma rectangular, tiene una pared celular y estructuras verdes en su interior.</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                    <button class="boton" onclick="verificarAplicacion(this, true, '¬°Correcto! Es vegetal porque tiene pared celular y cloroplastos.')">üåø Es vegetal</button>
                    <button class="boton" onclick="verificarAplicacion(this, false, '¬°No! Las c√©lulas animales no tienen pared celular ni son verdes.')">üêï Es animal</button>
                </div>
                <div id="retroalimentacion-aplic" class="retroalimentacion"></div>
            </div>

            <div class="escenario">
                <div class="escenario-icono">üíâ</div>
                <div class="escenario-titulo">Situaci√≥n: C√©lula sin forma definida, con membrana flexible</div>
                <div class="escenario-descripcion">Observas una c√©lula redonda, sin pared celular externa r√≠gida, sin estructuras verdes.</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                    <button class="boton" onclick="verificarAplicacion(this, false, '¬°No! Las vegetales tienen caracter√≠sticas muy diferentes.')">üåø Es vegetal</button>
                    <button class="boton correcto" onclick="verificarAplicacion(this, true, '¬°Exacto! Es animal porque tiene membrana flexible y sin pared r√≠gida.')">üêï Es animal</button>
                </div>
                <div id="retroalimentacion-aplic2" class="retroalimentacion"></div>
            </div>

            <div class="contador">11 / 13</div>
        </div>

        <!-- SLIDE 12: REPASO FINAL -->
        <div class="slide">
            <h2>üìã Repaso R√°pido Final</h2>
            
            <div style="margin-bottom: 15px;">
                <p style="font-weight: bold; margin-bottom: 12px;">‚ùì ¬øQui√©n controla toda la actividad de la c√©lula?</p>
                <div class="opcion" onclick="verificarRepaso(this, false)">Membrana celular</div>
                <div class="opcion" onclick="verificarRepaso(this, true)">N√∫cleo</div>
                <div class="opcion" onclick="verificarRepaso(this, false)">Citoplasma</div>
                <div id="retroalimentacion-r1" class="retroalimentacion"></div>
            </div>

            <div style="margin-bottom: 15px;">
                <p style="font-weight: bold; margin-bottom: 12px;">‚ùì ¬øCu√°l es la principal diferencia entre c√©lula animal y vegetal?</p>
                <div class="opcion" onclick="verificarRepaso(this, false)">Tama√±o similar</div>
                <div class="opcion" onclick="verificarRepaso(this, true)">Pared, cloroplastos, vacuola</div>
                <div class="opcion" onclick="verificarRepaso(this, false)">Sin n√∫cleo</div>
                <div id="retroalimentacion-r2" class="retroalimentacion"></div>
            </div>

            <div style="margin-bottom: 15px;">
                <p style="font-weight: bold; margin-bottom: 12px;">‚ùì ¬øQu√© realiza la fotos√≠ntesis en una c√©lula vegetal?</p>
                <div class="opcion" onclick="verificarRepaso(this, false)">N√∫cleo</div>
                <div class="opcion" onclick="verificarRepaso(this, true)">Cloroplastos</div>
                <div class="opcion" onclick="verificarRepaso(this, false)">Vacuola</div>
                <div id="retroalimentacion-r3" class="retroalimentacion"></div>
            </div>

            <div class="contador">12 / 13</div>
        </div>

        <!-- SLIDE 13: CIERRE CON METACOGNICI√ìN -->
        <div class="slide">
            <h2>üéì ¬øQu√© Aprendiste Hoy?</h2>
            
            <div class="grupo-reflexion">
                <p style="font-weight: bold; margin-bottom: 12px;">Reflexi√≥n: Marca la opci√≥n que mejor describe tu aprendizaje:</p>
                <div class="opcion-reflexion" onclick="marcarReflexion(this, 'Aprend√≠ muy bien sobre LA C√âLULA')">
                    ‚ú® Aprend√≠ muy bien sobre LA C√âLULA
                </div>
                <div class="opcion-reflexion" onclick="marcarReflexion(this, 'Entend√≠ bien pero necesito repasar los tipos de c√©lulas')">
                    üìö Entend√≠ bien pero necesito repasar tipos de c√©lulas
                </div>
                <div class="opcion-reflexion" onclick="marcarReflexion(this, 'Debo repasar las funciones y partes de la c√©lula')">
                    üîÑ Debo repasar funciones y partes
                </div>
                <div id="retroalimentacion-metacog" class="retroalimentacion"></div>
            </div>

            <div class="sello-logro">
                <div class="icono-sello">üèÜ</div>
                <div class="texto-sello">¬°LO LOGRASTE!</div>
                <div class="subtexto-sello">Has completado tu viaje por el mundo celular</div>
                <p style="font-size: 1.1em; color: var(--naranja-quemado); margin-top: 10px;">¬°Ahora eres un experto en c√©lulas! üî¨</p>
            </div>

            <div class="contador">13 / 13</div>
        </div>
    </div>

    <script>
        let slideActual = 0;
        const slides = document.querySelectorAll('.slide');

        function renderizarSlide() {
            slides.forEach((slide, index) => {
                slide.classList.remove('activo');
            });
            slides[slideActual].classList.add('activo');
        }

        function cambiarSlide(direccion) {
            slideActual += direccion;
            if (slideActual < 0) slideActual = slides.length - 1;
            if (slideActual >= slides.length) slideActual = 0;
            renderizarSlide();
        }

        // FUNCIONES INTERACTIVAS

        function mostrarDetalle(elemento, texto) {
            const div = document.getElementById('detalle-objetivo');
            if (div.innerHTML.includes(texto)) {
                div.innerHTML = '';
                div.classList.remove('activa');
            } else {
                div.innerHTML = `<strong>‚úÖ ${texto}</strong>`;
                div.classList.add('activa', 'correcta');
            }
        }

        function mostrarPista(elemento) {
            const pista = elemento.querySelector('.pista');
            pista.classList.toggle('mostrada');
        }

        function abrirModal(id) {
            document.getElementById(id).style.display = 'block';
        }

        function cerrarModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        function abrirModalEspecial(id) {
            document.getElementById(id).style.display = 'block';
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        const funcionesData = [
            { icon: 'üçΩÔ∏è', titulo: 'NUTRICI√ìN', desc: 'La c√©lula obtiene alimento y energ√≠a del exterior para vivir y funcionar.' },
            { icon: 'üìà', titulo: 'CRECIMIENTO', desc: 'La c√©lula aumenta de tama√±o mediante la acumulaci√≥n de sustancias y la s√≠ntesis de mol√©culas.' },
            { icon: 'üë∂', titulo: 'REPRODUCCI√ìN', desc: 'La c√©lula se divide en dos nuevas c√©lulas id√©nticas. Es c√≥mo se generan nuevas c√©lulas.' },
            { icon: 'üß¨', titulo: 'HERENCIA', desc: 'El n√∫cleo contiene ADN que transmite informaci√≥n gen√©tica a las nuevas c√©lulas.' }
        ];

        function mostrarFuncion(index) {
            const div = document.getElementById('detalle-funcion');
            div.innerHTML = `<strong>${funcionesData[index].icon} ${funcionesData[index].titulo}</strong><p>${funcionesData[index].desc}</p>`;
            div.classList.add('activa', 'correcta');
        }

        function mostrarDiferencia(elemento) {
            const div = document.getElementById('diferencia-vegetal');
            const texto = 'üü¢ Las c√©lulas vegetales tienen: PARED CELULAR (r√≠gida), CLOROPLASTOS (verdes para fotos√≠ntesis) y VACUOLA GRANDE (almacena agua). ¬°Esto las hace especiales!';
            if (div.innerHTML.includes('PARED CELULAR')) {
                div.innerHTML = '';
                div.classList.remove('activa');
            } else {
                div.innerHTML = `<strong>‚úÖ ${texto}</strong>`;
                div.classList.add('activa', 'correcta');
            }
        }

        function verificarRespuesta(elemento, esCorrecta, mensaje) {
            if (elemento.classList.contains('respondido')) return;
            
            elemento.classList.add('respondido');
            const id = elemento.parentElement.querySelector('.retroalimentacion').id;
            const retroDiv = document.getElementById(id);
            
            if (esCorrecta) {
                elemento.classList.add('correcta');
                retroDiv.innerHTML = `<strong>‚úÖ ¬°Correcto! </strong>${mensaje}`;
                retroDiv.classList.add('activa', 'correcta');
            } else {
                elemento.classList.add('incorrecta');
                retroDiv.innerHTML = `<strong>‚ùå Intenta de nuevo</strong> ${mensaje}`;
                retroDiv.classList.add('activa', 'incorrecta');
            }
        }

        let juegoData = {
            currentItem: null,
            respuestasCorrectas: 0,
            totalItems: 6
        };

        function mostrarOpcionesJuego(elemento, nombre, icon) {
            juegoData.currentItem = {
                elemento: elemento,
                nombre: nombre,
                icon: icon,
                categoriaCorrecta: ['üß±', 'üü¢', '‚¨ú', 'üçÉ'].includes(icon) ? 'vegetal' : 'animal'
            };

            const modal = document.getElementById('modal-juego');
            const pregunta = document.getElementById('pregunta-juego');
            pregunta.innerHTML = `¬ø${icon} "${nombre}" es de un ANIMAL o VEGETAL?`;
            
            document.getElementById('retro-juego').style.display = 'none';
            document.getElementById('retro-juego').innerHTML = '';
            
            modal.style.display = 'block';
        }

        function responderJuego(btn, categoriaElegida) {
            const esCorrecta = categoriaElegida === juegoData.currentItem.categoriaCorrecta;
            const retroDiv = document.getElementById('retro-juego');

            if (esCorrecta) {
                juegoData.respuestasCorrectas++;
                juegoData.currentItem.elemento.classList.add('correcto');
                juegoData.currentItem.elemento.style.pointerEvents = 'none';
                juegoData.currentItem.elemento.style.opacity = '0.6';
                
                retroDiv.innerHTML = `‚úÖ <strong>¬°Correcto!</strong> "${juegoData.currentItem.nombre}" es de un ${categoriaElegida === 'animal' ? 'ANIMAL' : 'VEGETAL'}.`;
                retroDiv.style.color = '#155724';
                retroDiv.style.display = 'block';

                setTimeout(() => {
                    document.getElementById('modal-juego').style.display = 'none';
                    verificarProgreso();
                }, 1500);
            } else {
                retroDiv.innerHTML = `‚ùå <strong>No es correcto.</strong> Intenta de nuevo. "${juegoData.currentItem.nombre}" es de un ${categoriaElegida === 'animal' ? 'VEGETAL' : 'ANIMAL'}.`;
                retroDiv.style.color = '#721c24';
                retroDiv.style.display = 'block';
            }
        }

        function verificarProgreso() {
            if (juegoData.respuestasCorrectas === juegoData.totalItems) {
                const retroDiv = document.getElementById('retroalimentacion-juego');
                retroDiv.innerHTML = `<strong style="font-size: 1.2em;">üéâ ¬°EXCELENTE! Clasificaste todas correctamente</strong><p>¬°Demostraste que entiendes perfectamente las diferencias entre c√©lulas animales y vegetales!</p>`;
                retroDiv.classList.add('activa', 'correcta');
                
                document.getElementById('progreso-juego').style.display = 'block';
                document.getElementById('texto-progreso').textContent = `‚úÖ ${juegoData.respuestasCorrectas}/${juegoData.totalItems} clasificadas correctamente`;
            } else {
                const restantes = juegoData.totalItems - juegoData.respuestasCorrectas;
                document.getElementById('progreso-juego').style.display = 'block';
                document.getElementById('texto-progreso').textContent = `‚úÖ ${juegoData.respuestasCorrectas}/${juegoData.totalItems} correctas - ${restantes} por clasificar`;
            }
        }

        function reiniciarJuego() {
            juegoData.respuestasCorrectas = 0;
            juegoData.currentItem = null;
            
            const items = document.querySelectorAll('.juego-item');
            items.forEach(item => {
                item.classList.remove('correcto');
                item.style.pointerEvents = 'auto';
                item.style.opacity = '1';
            });

            document.getElementById('modal-juego').style.display = 'none';
            document.getElementById('retroalimentacion-juego').innerHTML = '';
            document.getElementById('retroalimentacion-juego').classList.remove('activa', 'correcta');
            document.getElementById('progreso-juego').style.display = 'none';
        }

        function verificarAplicacion(elemento, esCorrecta, mensaje) {
            if (elemento.classList.contains('respondido')) return;

            elemento.classList.add('respondido');
            const id = elemento.parentElement.parentElement.querySelector('.retroalimentacion').id;
            const retroDiv = document.getElementById(id);

            if (esCorrecta) {
                elemento.classList.add('correcta');
                retroDiv.innerHTML = `<strong>‚úÖ ¬°Correcto! </strong>${mensaje}`;
                retroDiv.classList.add('activa', 'correcta');
            } else {
                elemento.classList.add('incorrecta');
                retroDiv.innerHTML = `<strong>‚ùå No es correcto</strong> ${mensaje}`;
                retroDiv.classList.add('activa', 'incorrecta');
            }
        }

        function verificarRepaso(elemento, esCorrecta) {
            if (elemento.classList.contains('correcta')) return;
            
            const id = elemento.parentElement.parentElement.querySelector('.retroalimentacion').id;
            const retroDiv = document.getElementById(id);

            if (esCorrecta) {
                elemento.classList.add('correcta');
                elemento.classList.remove('incorrecta');
                
                const opciones = elemento.parentElement.querySelectorAll('.opcion');
                opciones.forEach(opcion => {
                    if (opcion !== elemento) {
                        opcion.style.pointerEvents = 'none';
                        opcion.style.opacity = '0.5';
                    }
                });
                
                retroDiv.innerHTML = '<strong>‚úÖ ¬°CORRECTO! Excelente, demuestras dominar este tema perfectamente.</strong>';
                retroDiv.classList.add('activa', 'correcta');
                retroDiv.classList.remove('incorrecta');
            } else {
                elemento.classList.add('incorrecta');
                retroDiv.innerHTML = '<strong>‚ùå No es la respuesta correcta.</strong><br><em style="color: var(--naranja-quemado);">üí° Intenta de nuevo con otra opci√≥n. ¬°T√∫ puedes lograrlo!</em>';
                retroDiv.classList.add('activa', 'incorrecta');
                retroDiv.classList.remove('correcta');
            }
        }

        function marcarReflexion(elemento, respuesta) {
            const opciones = elemento.parentElement.querySelectorAll('.opcion-reflexion');
            opciones.forEach(opcion => opcion.classList.remove('seleccionada'));
            elemento.classList.add('seleccionada');
            
            const retroDiv = document.getElementById('retroalimentacion-metacog');
            if (retroDiv) {
                retroDiv.style.display = 'block';
                retroDiv.innerHTML = `<strong>‚úÖ Excelente reflexi√≥n:</strong> "${respuesta}" - Es importante conocer tu propio aprendizaje.`;
            }
        }

        // Inicializar
        renderizarSlide();

        // Navegaci√≥n con teclado
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') cambiarSlide(-1);
            if (e.key === 'ArrowRight') cambiarSlide(1);
        });
    </script>
</body>
</html>
